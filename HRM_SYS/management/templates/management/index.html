{% extends 'management/base.html' %}
{% block content %}

<style>
  .parent {
    overflow-y: scroll;
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none;  /* Internet Explorer 10+ */
}
.parent::-webkit-scrollbar { /* WebKit */
    width: 0;
    height: 0;
}
</style>
      <!-- partial -->
      <div class="main-panel">
        <div class="content-wrapper">
          <div class="row">
            <div class="col-md-12 grid-margin">
              <div class="row">
                <div class="col-12 col-xl-8 mb-4 mb-xl-0">
                  <h3 class="font-weight-bold">Welcome</h3>
                  <h4 class="font-weight-normal mb-0" style="color:yellowgreen"> {{user.username}}@{{user.profile.first}} </h4>
                  <div id="loaders5" style="display: none;">
                    <div class="spinner-grow text-primary" role="status">
                      <span class="sr-only">Loading...</span>
                    </div>
                    <div class="spinner-grow text-secondary" role="status">
                      <span class="sr-only">Loading...</span>
                    </div>
                    <div class="spinner-grow text-success" role="status">
                      <span class="sr-only">Loading...</span>
                    </div>
                    </div>
                 
                                        </div>
                <div class="col-12 col-xl-4">
                  
                  
                 <div class="justify-content-end d-flex">
                  <div class="dropdown flex-md-grow-1 flex-xl-grow-0">
                    
                      <span id="statusText" style="color:orange"></span>
                  
                    
                  </div>
                 </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            
            <div class="col-md-6 grid-margin stretch-card">
              <div class="card tale-bg">
                <div class="card-people mt-auto">
                  <img src="https://images.unsplash.com/photo-1549002942-c6af9c116f79?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8c3VubGlnaHR8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60" height="300px;" alt="people" id="statusPic">
                  <div class="weather-info">
                    <div class="d-flex">
                      <div>
                        <h2 class="mb-0 font-weight-normal"><strong id="temps"></strong><sup>C</sup></h2>
                      </div>
                      <div class="ml-2">
                        <h4 class="location font-weight-normal">Nairobi</h4>
                        <h6 class="font-weight-normal">Kenya</h6>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-6 grid-margin transparent">
              
              <div class="row">
                <div class="col-md-6 mb-4 stretch-card transparent" >
                  <div class="card card-tale" style="background-color: yellowgreen;">
                    <div class="card-body">
                      <p class="mb-4"># of employees</p>
                      <a class="fs-30 mb-2" href="{% url 'management_list_employee' %}">{{employees}}</a>
                      
                    </div>
                  </div>
                
                </div>
                <div class="col-md-6 mb-4 stretch-card transparent">
                  <div class="card card-dark-blue">
                    <div class="card-body">
                      <p class="mb-4">my To Do</p>
                      <a class="fs-30 mb-2" href="#todoDiv">{{todos | length}}</a>
                      
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6 mb-4 mb-lg-0 stretch-card transparent">
                  <div class="card card-light-blue">
                    <div class="card-body">
                      <p class="mb-4">latest</p>
                      <a class="fs-30 mb-2" href="{% url 'management_events' %}">{{event | length}}</a>
                      
                    </div>
                  </div>
                </div>
                <div class="col-md-6 stretch-card transparent">
                  <div class="card card-light-danger">
                    <div class="card-body">
                      <p class="mb-4">downloads updates</p>
                      <p class="fs-30 mb-2">{{payrolls | length}}</p>
                      
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        
          <div class="row">
            <div class="col-md-4 stretch-card grid-margin"  style="overflow-y: scroll; height: 300px;">
              <div class="card">
                <div class="card-body">
                  <p class="card-title mb-0">System Generated Files</p>
                  <div class="table-responsive">
                    <table class="table table-borderless">
                      <thead>
                        <tr>
                          <th class="pl-0  pb-2 border-bottom">Id</th>
                          
                          <th class="border-bottom pb-2">Created</th>
                          <th class="border-bottom pb-2">Download </th>
                        </tr>
                      </thead>
                      <tbody>
                    
                        {% for payroll in payrolls %}
                        <tr>
                          <td class="pl-0">{{payroll.employee_id}}</td>
                          <td><p class="mb-0"><span class="font-weight-bold mr-2"></span>{{payroll.created_date}}{{payroll.created_time}}</p></td>
                          <td class="text-muted"><a href="{% url 'payroll-payslip' payroll.sign_id %}" download><i class="ti-download"></i></a></td>
                        </tr>
                        {% endfor %}
                        
                        
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-2 stretch-card grid-margin">
              <div class="row">
                <div class="col-md-12 grid-margin stretch-card">
                  <div class="card">
                    <div class="card-body">
                      <p class="card-title">Departments</p>
                      <div class="charts-data">
                        <div class="mt-3">
                          <p class="mb-0"># departments</p>
                          <div class="d-flex justify-content-between align-items-center">
                            <div class="progress progress-md flex-grow-1 mr-4">
                              <div class="progress-bar bg-inf0" role="progressbar" style="width: 0%" aria-valuenow="95" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                            <h4 class="mb-0">{{department}}</h4>
                          </div>
                        </div>
                        
                       
                       
                      </div>  
                    </div>
                  </div>
                </div>
                <div class="col-md-12 stretch-card grid-margin grid-margin-md-0">
                  <div class="card data-icon-card-primary">
                    <div class="card-body">
                      <p class="card-title text-white">Announcements</p>                      
                      <div class="row">
                        <div class="col-8 text-white">
                          <h3>{{event | length}}</h3>
                          <p class="text-white font-weight-500 mb-0">{{event.details}}</p>
                          <p class="text-white font-weight-500 mb-0"> </p>
                        </div>
                        <svg width="64px" height="64px" viewBox="-0.21 0 32.871 32.871" xmlns="http://www.w3.org/2000/svg" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g id="announcement" transform="translate(-779.053 -112.499)"> <path id="Rectangle_16" data-name="Rectangle 16" d="M5,0H9.947a0,0,0,0,1,0,0V10a0,0,0,0,1,0,0H5A5,5,0,0,1,0,5V5A5,5,0,0,1,5,0Z" transform="translate(780.053 120.499)" fill="#18f708" stroke="#2810da" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path> <path id="Path_43" data-name="Path 43" d="M804,137.446,790,130.5v-10l14-7Z" fill="#18f708" stroke="#2810da" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path> <line id="Line_52" data-name="Line 52" x2="8" y2="13.501" transform="translate(786 130.499)" fill="none" stroke="#2810da" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></line> <line id="Line_53" data-name="Line 53" x2="4" transform="translate(807.053 125.499)" fill="none" stroke="#2810da" stroke-miterlimit="10" stroke-width="2"></line> <line id="Line_54" data-name="Line 54" y1="2" x2="4" transform="translate(807.053 119.499)" fill="none" stroke="#2810da" stroke-miterlimit="10" stroke-width="2"></line> <line id="Line_55" data-name="Line 55" x2="4" y2="2" transform="translate(807.053 129.499)" fill="none" stroke="#2810da" stroke-miterlimit="10" stroke-width="2"></line> </g> </g></svg>
                      </div>
                    </div>
                  </div>
                </div>.
              </div>
            </div>
            <div class="col-md-6 stretch-card grid-margin" id="todoDiv">
              <div class="card" style="overflow-y:scroll; height:500px;" >
                <div class="card-body">
                  <p class="card-title">To do</p>
                                                                                                                                                                                          
                    
                        <div class="li-wrapper px-3" >
                          <ul class="d-flex flex-column-reverse todo-list">
                            
                            {% for todo in todos %}
                            <li>
                              <div class="form-check">
                                <label class="form-check-label">
                                  <input class="checkbox" type="checkbox" onclick="getPk('{{todo.0}}')">
                                  {{todo.5}} <strong style="color:green">{{todo.6}}</strong> <small> {{todo.2}}</small>
                                </label>
                              </div>
                              &nbsp;&nbsp;&nbsp;&nbsp;
                              <a href="{{todo.4}}" download><i class="remove ti-download"></i>attachment</a>
                              &nbsp;&nbsp;&nbsp;
                              <a onclick="approveModal('{{todo.0}}','{{todo.4}}')" class="btn btn-outline"><i class="fa fa-check"></i></a>
                             
                              
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                              <a class="btn btn-danger" onclick="reject('{{todo.0}}');"><i class="remove ti-close"></i></a>
                            </li>
                            {% endfor %}

                         
                            
                            
                            
                            
                          </ul>
                        </div>
                      
               
                </div>
              </div>
            </div>
          </div>
          <!--
          <div class="row">
            <div class="col-md-6 grid-margin stretch-card">
              <div class="card">
                <div class="card-body">
                  <p class="card-title">Attendance trends</p>
                  <p class="font-weight-500"></p>
                 
                  <canvas id="order-chart"></canvas>
                </div>
              </div>
            </div>
            <div class="col-md-6 grid-margin stretch-card">
              <div class="card">
                <div class="card-body">
                 <div class="d-flex justify-content-between">
                  <p class="card-title">expected vs Actual</p>
                  <a href="#" class="text-info">View all</a>
                 </div>
                  <p class="font-weight-500"></p>
                  <div id="sales-legend" class="chartjs-legend mt-4 mb-2"></div>
                  <canvas id="sales-charts"></canvas>
                </div>
              </div>
            </div>
          </div>
        -->
          
         
          
          <div class="row">
            <div class="col-md-12 grid-margin stretch-card">
              <div class="card">
                <div class="card-body">
                  <p class="card-title">My attendance</p>
                  <div class="row">
                    <div class="col-12">
                      <div class="table-responsive">
                        <table id="newemp" class="display expandable-table" style="width:100%">
                          <thead>
                            <tr>
                              <th>Employee #</th>
                              <th>Day</th>
                              <th>Days</th>
                              <th>Hours</th>
                              <th>Deductions</th>
                              <th>Remaining Leave Days</th>
                              <th>Status</th>
                          
                              <th>Remarks</th>
                            </tr>
                          </thead>
                          <tbody>
                           
                            {% for att in attendance %}
                            <tr>
                                
                                <td>{{att.employee.emp_id}}</td>
                                <td>{{att.day}}</td>
                                <td>{{att.days}}</td>
                                <td>{{att.hours}}</td>
                                <td>{{att.deductions}}</td>
                                <td>{{att.leave_days}}</td>
                                <td>{{att.status}}</td>
                                <td>{{att.remarks}}</td>
                            </tr>
                            {% endfor %}
                           
                          </tbody>
                      </table>
                      </div>
                    </div>
                  </div>
                  </div>
                </div>
              </div>
            </div>
        </div>
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#approveModal" id="approveModalBtn" style="display:none">
          
        </button>
        
        <!-- Modal -->
        <div class="modal fade" id="approveModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Details</h5>
                <div id="loaders2" style="display: none;">
                  <div class="spinner-grow text-primary" role="status">
                    <span class="sr-only">Loading...</span>
                  </div>
                  <div class="spinner-grow text-secondary" role="status">
                    <span class="sr-only">Loading...</span>
                  </div>
                  <div class="spinner-grow text-success" role="status">
                    <span class="sr-only">Loading...</span>
                  </div>
                  </div>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <a onclick="hideDetails()"><i class="ti-arrow-circle-up"></i></a>
                <a onclick="showDetails()"><i class="ti-arrow-circle-down"></i></a>
                <div style="color:black; background-color:azure; overflow-y:scroll; overflow-x:scroll; border:2px;" id="detDiv" style="height:300px; margin:40px;">
                  <h4 style="color:blue">Requested By:</h4>
                   
                   <svg width="34px" height="34px" viewBox="0 0 1024 1024" class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M512 661.3c-117.6 0-213.3-95.7-213.3-213.3S394.4 234.7 512 234.7 725.3 330.4 725.3 448 629.6 661.3 512 661.3z m0-341.3c-70.6 0-128 57.4-128 128s57.4 128 128 128 128-57.4 128-128-57.4-128-128-128z" fill="#5F6379"></path><path d="M837 862.9c-15.7 0-30.8-8.7-38.2-23.7C744.3 729.5 634.4 661.3 512 661.3s-232.3 68.1-286.8 177.9c-10.5 21.1-36.1 29.7-57.2 19.2s-29.7-36.1-19.2-57.2C217.8 662.3 357 576 512 576s294.2 86.3 363.2 225.2c10.5 21.1 1.9 46.7-19.2 57.2-6.1 3-12.6 4.5-19 4.5z" fill="#5F6379"></path><path d="M512 1002.7c-270.6 0-490.7-220.1-490.7-490.7S241.4 21.3 512 21.3s490.7 220.1 490.7 490.7-220.1 490.7-490.7 490.7z m0-896c-223.5 0-405.3 181.8-405.3 405.3S288.5 917.3 512 917.3 917.3 735.5 917.3 512 735.5 106.7 512 106.7z" fill="#3688FF"></path></g></svg><strong id="applicant"></strong>
                   <br>
                 
                  <h4 style="color:blue">Type:</h4>
                  <h4 id="title"></h4>
                  <br>
                  <h4 style="color:blue">Details</h4>
                  <p id="details"></p>
                   <br>
                   <h4 style="color:blue">From:</h4>
                  
                   <svg width="34px" height="34px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M16.9995 15.9995L20.9995 11.9995M20.9995 11.9995L16.9995 7.99951M20.9995 11.9995H8.99951M12.9995 20.9995H6.20029C5.08019 20.9995 4.52014 20.9995 4.09231 20.7815C3.71599 20.5898 3.41003 20.2838 3.21828 19.9075C3.00029 19.4797 3.00029 18.9196 3.00029 17.7995V6.19951C3.00029 5.07941 3.00029 4.51935 3.21828 4.09153C3.41003 3.71521 3.71599 3.40925 4.09231 3.2175C4.52014 2.99951 5.08019 2.99951 6.20029 2.99951L12.9995 2.99951" stroke="#310af5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>&nbsp;&nbsp;<strong id="start"></strong>
                   <br>
                   <h4 style="color:blue">To:</h4>
                   <svg width="34px" height="34px" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <rect width="48" height="48" fill="white" fill-opacity="0.01"></rect> <path d="M14 23.9917L42 23.9917" stroke="#0938f6" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M26 36L14 24L26 12" stroke="#0938f6" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M5 36L5 12" stroke="#0938f6" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>&nbsp;&nbsp;<strong id="end"></strong>
                   <br>
                   <br>
                   <h4 style="color:blue">Days:</h4>
                   
                   <svg width="34px" height="34px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g id="Calendar / Calendar_Days"> <path id="Vector" d="M8 4H7.2002C6.08009 4 5.51962 4 5.0918 4.21799C4.71547 4.40973 4.40973 4.71547 4.21799 5.0918C4 5.51962 4 6.08009 4 7.2002V8M8 4H16M8 4V2M16 4H16.8002C17.9203 4 18.4796 4 18.9074 4.21799C19.2837 4.40973 19.5905 4.71547 19.7822 5.0918C20 5.5192 20 6.07899 20 7.19691V8M16 4V2M4 8V16.8002C4 17.9203 4 18.4801 4.21799 18.9079C4.40973 19.2842 4.71547 19.5905 5.0918 19.7822C5.5192 20 6.07899 20 7.19691 20H16.8031C17.921 20 18.48 20 18.9074 19.7822C19.2837 19.5905 19.5905 19.2842 19.7822 18.9079C20 18.4805 20 17.9215 20 16.8036V8M4 8H20M16 16H16.002L16.002 16.002L16 16.002V16ZM12 16H12.002L12.002 16.002L12 16.002V16ZM8 16H8.002L8.00195 16.002L8 16.002V16ZM16.002 12V12.002L16 12.002V12H16.002ZM12 12H12.002L12.002 12.002L12 12.002V12ZM8 12H8.002L8.00195 12.002L8 12.002V12Z" stroke="#0930f6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g> </g></svg><strong id="days"></strong>
                   <br>
                   
                   <br>

                  
                </div>
                <br><br>
                <form class="forms-sample">
                  <div class="form-group">
                    <label for="exampleInputName1">id</label>
                    <input type="hidden" class="form-control" id="approvePk" placeholder="Name">
                  </div>
                  
                  <div class="form-group">
                    <label for="exampleSelectGender">status</label>
                      <select class="form-control" id="approveStatus"> 
                        <option value="approve">Approve</option>
                        <option value="reject">Reject</option>
                      </select>
                    </div>
                  
                 
                  <div class="form-group">
                    <label for="exampleTextarea1">Remarks</label>
                    <textarea class="form-control" id="approveComments" rows="4"></textarea>
                  </div>
                  <button type="button" class="btn btn-primary mr-2" onclick="doneApprove()">Submit</button>
                
                </form>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                
              </div>
            </div>
          </div>
        </div>

        <!-- content-wrapper ends -->
        <!-- partial:partials/_footer.html -->
        <footer class="footer">
          
        </footer>
        <!-- partial -->
      </div>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
      <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap4.min.js"></script>
      <script>
        
    new DataTable('#newemp');
     
// approval modal
function approveModal(id,link){

    
  $("#approveModalBtn").click()

  $("#approvePk").val(id)
  
  //$("#attach").href(link)

  $.ajax({

      type:"POST",
      url:"{% url 'management_view_approval_details' %}",
      data:{

         id:id
      },
      beforeSend:function(){
                $("#loaders2").show()
             },
      success:function(data,status){
       
        document.getElementById("title").innerHTML = data["title"]+" : "+data["category"]
        document.getElementById("details").innerHTML = data["details"]
        document.getElementById("start").innerHTML = data["start"]
        document.getElementById("end").innerHTML = data["end"]
        document.getElementById("days").innerHTML = data["days"]
        document.getElementById("applicant").innerHTML = data["applicant"]
      },
      complete:function(){
                
                $("#loaders2").hide()
                
  
               }
  })
}

function hideDetails(){
    
    $("#detDiv").hide()
}
function showDetails(){
    
    $("#detDiv").show()
}
function doneApprove(){

  $.ajax({
    type:"post",
    url:"{% url 'management_approve_by_details' %}",
    data:{

      id:$("#approvePk").val(),
      status:$("#approveStatus").val(),
      comments:$("#approveComments").val(),
      csrfmiddlewaretoken:'{{ csrf_token }}'



    },
    beforeSend:function(){
                $("#loaders2").show()
             },
            
    success:function(data,status){
      alert(data)
    },
    complete:function(){
                
                $("#loaders2").hide()
               
                location.reload()
               }
     
  })

}
    // approve todo 
function getPk(id){
 
   $.ajax({

      type:"post",
      url:"{% url 'management_approve' %}",
      data:{
        id:id,
        csrfmiddlewaretoken:'{{ csrf_token }}'

      },
      beforeSend:function(){
                $("#loaders5").show()
             },

      success:function(data,status){
        alert(data)
      },
      complete:function(){
                
                $("#loaders5").hide()
                location.reload()
  
               }
   })
}

// reject todo 

function reject(id){

            $.ajax({

          type:"post",
          url:"{% url 'management_reject' %}",
          data:{
            id:id,
            csrfmiddlewaretoken:'{{ csrf_token }}'

          },
          beforeSend:function(){
                $("#loaders5").show()
             },
          success:function(data,status){
            alert(data)
          },
          complete:function(){
                
                $("#loaders5").hide()
                location.reload()
  
               }
          })

}

// view application details

function viewMore(){

    $("#viewMoreBtn").click()
}

//============================== fetch weather data==========================================

function getWeatherData(lat,lon){

var url = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=4fa5737c18f70c57a4aa1c17b818a7b3`
  fetch(url).then(
    function(resp){
      return resp.json()
    }
  ).then(
    function(data){
      console.log(data.weather[0].main)
      document.getElementById("temps").innerHTML =  Math.round(parseFloat(data.main.temp)-273.15)
    }
  )
}

//getWeatherData('-1.292066','36.821945')

function workStatus(){

  var work_time = 'https://images.unsplash.com/photo-1506452819137-0422416856b8?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8d29yayUyMHRpbWV8ZW58MHx8MHx8fDA%3D'
  var tea_time = 'https://images.unsplash.com/photo-1588710962678-845d46818fd0?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8YnJlYWslMjB0aW1lfGVufDB8fDB8fHww'
  var lunch_break = 'https://images.unsplash.com/photo-1567934124115-2eca8953796b?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fHBsYXRlfGVufDB8fDB8fHww'
  var rest_time = 'https://images.unsplash.com/photo-1586084531072-e03cbf17afa6?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cmVzdHxlbnwwfHwwfHx8MA%3D%3D'

  const today = new Date();
          
  let h = today.getHours();
 
  if(h >= 8 && h <10){
   
      document.getElementById("statusPic").src = work_time
      document.getElementById("statusText").innerHTML = "Work time"

  }else if (h==10){
     
    document.getElementById("statusPic").src = tea_time
    document.getElementById("statusText").innerHTML = "Tea Break"
  } else if (h>=11 && h<13){
    document.getElementById("statusPic").src = work_time
    document.getElementById("statusText").innerHTML = "Work time"
  }else if (h==13){
    document.getElementById("statusPic").src = lunch_break
    document.getElementById("statusText").innerHTML = "Lunch Break"
  }else if(h>=14 && h<=17){
    document.getElementById("statusPic").src = work_time
    document.getElementById("statusText").innerHTML = "Work time"
  }
  else{
    document.getElementById("statusPic").src = rest_time
    document.getElementById("statusText").innerHTML = "Rest"
  }
}
workStatus()
setInterval(workStatus,90000)

// ============clear cache =======================
function clearCache(){


   $('head').append(`


<meta http-equiv='cache-control' content='no-cache'> 
<meta http-equiv='expires' content='0'> 
<meta http-equiv='pragma' content='no-cache'> 
   
   `)

   location.reload()
}




      </script>
{% endblock content %}
